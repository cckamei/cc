webpackJsonp([15],{"5bqY":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=s("Dd8w"),i=s.n(c),n=s("NYxO"),a=s("LEG2"),l=s.n(a),o={data:function(){return{checkedAll:!1,totalCount:0,totalMoney:0,skuVisible:!1,skuIndex:0,res:{cart:[{checked:!1,deleteVisible:!1,src:l.a,name:"醒狮MeiMei项链/坠",desc:"玫瑰金，红玉髓，白珍珠贝母，钻石，黑玛瑙，紫玉",price:"6666",count:1,limit:10,sku:{scoreIndex:0,clarityIndex:0,colorIndex:0,specIndex:0},skuScore:["18分","25分","30分","40分"],skuClarity:["SI/小瑕","VS/微瑕","VVS/极微瑕"],skuColor:["H/白","F-G/优白","I-J/淡白","D-E/极白"],skuSpec:["女戒-11号","女戒-12号","女戒-13号","女戒-14号","女戒-15号"]},{checked:!1,deleteVisible:!1,src:l.a,name:"醒狮MeiMei项链/坠",desc:"玫瑰金，红玉髓",price:"6666",count:1,limit:10,sku:{scoreIndex:0,clarityIndex:0,colorIndex:0,specIndex:0},skuScore:["18分","25分","30分","40分"],skuClarity:["SI/小瑕","VS/微瑕","VVS/极微瑕"],skuColor:["H/白","F-G/优白","I-J/淡白","D-E/极白"],skuSpec:["女戒-11号","女戒-12号","女戒-13号","女戒-14号","女戒-15号"]},{checked:!1,deleteVisible:!1,src:l.a,name:"醒狮MeiMei项链/坠",desc:"",price:"6666",count:1,limit:0,sku:{scoreIndex:0,clarityIndex:0,colorIndex:0,specIndex:0},skuScore:["18分","25分","30分","40分"],skuClarity:["SI/小瑕","VS/微瑕","VVS/极微瑕"],skuColor:["H/白","F-G/优白","I-J/淡白","D-E/极白"],skuSpec:["女戒-11号","女戒-12号","女戒-13号","女戒-14号","女戒-15号"]}],recommend:[{url:l.a,name:"文承 戒指",price:"6666",like:!1},{url:l.a,name:"文承 戒指",price:"6666",like:!1},{url:l.a,name:"文承 戒指",price:"6666",like:!1},{url:l.a,name:"文承 戒指",price:"6666",like:!1}]}}},created:function(){this.fetchCart()},watch:{"res.cart":{handler:function(e){this.checkedAll=!this.res.cart.filter(function(e){return e.limit&&!e.checked}).length,this.totalCount=this.res.cart.filter(function(e){return e.limit&&e.checked}).reduce(function(e,t){return e+t.count},0),this.totalMoney=this.res.cart.filter(function(e){return e.limit&&e.checked}).reduce(function(e,t){return e+t.price*t.count},0)},deep:!0}},methods:i()({},Object(n.b)(["ajax"]),{fetchCart:function(){var e=this;this.ajax({name:"cart"}).then(function(t){e.res.cart=t.cart,e.res.cart.forEach(function(e){e.checked=!1,e.deleteVisible=!1})})},checkAll:function(){var e=this.checkedAll;this.res.cart.filter(function(e){return e.limit}).forEach(function(t){t.checked=!e})},handlePress:function(e,t,s){"press"===e&&(this.res.cart[s.index].deleteVisible=!0)},remove:function(e){this.res.cart.splice(e,1)},handleSKU:function(){},settlement:function(){this.$router.push({name:"confirmorder"})}})},r={render:function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"pt pb"},[c("v-header",[e._v("购物车")]),e._v(" "),c("div",{staticClass:"content"},[c("ul",{staticClass:"cart-list"},e._l(e.res.cart,function(t,s){return c("li",{directives:[{name:"touch",rawName:"v-touch.press",value:e.handlePress,expression:"handlePress",modifiers:{press:!0}}],staticClass:"flex",attrs:{"data-index":s}},[c("div",{staticClass:"checkbox",class:{active:t.checked,disabled:!t.limit},on:{click:function(e){t.limit&&(t.checked=!t.checked)}}}),e._v(" "),c("div",{staticClass:"img"},[c("img",{attrs:{src:t.src,alt:""}})]),e._v(" "),c("div",{staticClass:"detail flex-auto flex"},[c("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),c("span",{staticClass:"desc"},[e._v(e._s(t.desc))]),e._v(" "),t.limit?[c("div",{staticClass:"line3"},[c("span",{staticClass:"price"},[c("span",[e._v("￥")]),e._v(e._s(e._f("currency")(t.price)))]),e._v(" "),c("div",{staticClass:"add-minus flex"},[c("div",{staticClass:"btn minus",class:{active:t.count>1},on:{click:function(e){t.count>1&&t.count--}}}),e._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"item.count"}],attrs:{type:"text",readonly:""},domProps:{value:t.count},on:{input:function(s){s.target.composing||e.$set(t,"count",s.target.value)}}}),e._v(" "),c("div",{staticClass:"btn plus",class:{active:t.count<t.limit},on:{click:function(e){t.count<t.limit&&t.count++}}})])])]:[c("div",{staticClass:"line3 flex"},[c("span",{staticClass:"note"},[e._v("所选规格暂时无货")]),e._v(" "),c("button",{staticClass:"rechoose btn",on:{click:function(t){e.skuVisible=!0,e.skuIndex=s}}},[e._v("重选")])])]],2),e._v(" "),t.deleteVisible?c("div",{staticClass:"mask-delete flex",on:{click:function(e){t.deleteVisible=!1}}},[c("div",{staticClass:"delete",on:{click:e.remove}},[e._v("删除")])]):e._e()])})),e._v(" "),c("v-recommend",{attrs:{title:"为你推荐",list:e.res.recommend}})],1),e._v(" "),c("div",{staticClass:"footer flex"},[c("div",{staticClass:"checkbox",class:{active:e.checkedAll},on:{click:e.checkAll}}),e._v(" "),c("span",{staticClass:"checkbox-label"},[e._v("全选")]),e._v(" "),c("span",{staticClass:"total-label"},[e._v("合计：")]),e._v(" "),c("div",{staticClass:"price"},[e._v("￥"+e._s(e._f("currency")(e.totalMoney)))]),e._v(" "),c("button",{staticClass:"btn settlement",on:{click:e.settlement}},[e._v("结算"+e._s(e.totalCount))])]),e._v(" "),c("v-slide-up",{on:{confirm:e.handleSKU},model:{value:e.skuVisible,callback:function(t){e.skuVisible=t},expression:"skuVisible"}},[e._l(e.res.cart,function(t,i){return e.skuIndex===i?[c("ul",{staticClass:"sku"},[c("li",{staticClass:"sku-icon flex"},[c("img",{staticClass:"icon",attrs:{src:s("LEG2"),alt:""}}),e._v(" "),c("div",[c("div",{staticClass:"price"},[c("span",[e._v("￥")]),e._v(e._s(e._f("currency")(8888)))]),e._v(" "),c("span",{staticClass:"code"},[e._v("商品编号：DRGC00208")])])]),e._v(" "),c("li",[c("div",{staticClass:"title"},[e._v("主钻分数")]),e._v(" "),c("v-button-radio",{attrs:{list:t.skuScore},model:{value:t.sku.scoreIndex,callback:function(s){e.$set(t.sku,"scoreIndex",s)},expression:"item.sku.scoreIndex"}})],1),e._v(" "),c("li",[c("div",{staticClass:"title"},[e._v("钻石净度")]),e._v(" "),c("v-button-radio",{attrs:{list:t.skuClarity},model:{value:t.sku.clarityIndex,callback:function(s){e.$set(t.sku,"clarityIndex",s)},expression:"item.sku.clarityIndex"}})],1),e._v(" "),c("li",[c("div",{staticClass:"title"},[e._v("颜色")]),e._v(" "),c("v-button-radio",{attrs:{list:t.skuColor},model:{value:t.sku.colorIndex,callback:function(s){e.$set(t.sku,"colorIndex",s)},expression:"item.sku.colorIndex"}})],1),e._v(" "),c("li",[c("div",{staticClass:"title"},[e._v("规格")]),e._v(" "),c("v-button-radio",{attrs:{list:t.skuSpec},model:{value:t.sku.specIndex,callback:function(s){e.$set(t.sku,"specIndex",s)},expression:"item.sku.specIndex"}})],1),e._v(" "),c("li",{staticClass:"count flex"},[c("span",[e._v("数量")]),e._v(" "),c("div",{staticClass:"flex"},[c("div",{staticClass:"btn minus",class:{active:t.count>1},on:{click:function(e){t.count>1&&t.count--}}}),e._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"item.count"}],attrs:{type:"text",readonly:""},domProps:{value:t.count},on:{input:function(s){s.target.composing||e.$set(t,"count",s.target.value)}}}),e._v(" "),c("div",{staticClass:"btn plus",class:{active:t.count<t.limit},on:{click:function(e){t.count<t.limit&&t.count++}}})])])])]:e._e()})],2)],1)},staticRenderFns:[]};var u=s("VU/8")(o,r,!1,function(e){s("ZkVv")},"data-v-fc667ae0",null);t.default=u.exports},ZkVv:function(e,t){}});
//# sourceMappingURL=15.47b4c25a24f5b79f8fbf.js.map