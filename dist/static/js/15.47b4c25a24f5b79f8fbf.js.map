{"version":3,"sources":["webpack:///src/views/cart.vue","webpack:///./src/views/cart.vue?f266","webpack:///./src/views/cart.vue"],"names":["cart","data","checkedAll","totalCount","totalMoney","skuVisible","skuIndex","res","checked","deleteVisible","src","pic_guguring_default","a","name","desc","price","count","limit","sku","scoreIndex","clarityIndex","colorIndex","specIndex","skuScore","skuClarity","skuColor","skuSpec","recommend","url","like","created","this","fetchCart","watch","res.cart","handler","val","filter","item","length","reduce","total","_ref","_ref2","deep","methods","extends_default","Object","vuex_esm","_this","ajax","then","forEach","checkAll","isCheckedAll","handlePress","eventName","e","hammer","index","remove","splice","handleSKU","settlement","$router","push","views_cart","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","directives","rawName","value","expression","modifiers","press","attrs","data-index","class","active","disabled","on","click","$event","alt","_s","_f","type","readonly","domProps","input","target","composing","$set","_e","title","list","confirm","model","callback","$$v","__webpack_require__","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.47b4c25a24f5b79f8fbf.js","sourcesContent":["<template>\r\n  <div class=\"pt pb\">\r\n    <v-header>购物车</v-header>\r\n    <div class=\"content\">\r\n      <ul class=\"cart-list\">\r\n        <li class=\"flex\" v-for=\"(item, index) in res.cart\" v-touch.press=\"handlePress\" :data-index=\"index\">\r\n          <div class=\"checkbox\" :class=\"{active: item.checked, disabled: !item.limit}\" @click=\"item.limit && (item.checked = !item.checked)\"></div>\r\n          <div class=\"img\">\r\n            <img :src=\"item.src\" alt=\"\">\r\n          </div>\r\n          <div class=\"detail flex-auto flex\">\r\n            <span class=\"name\">{{item.name}}</span>\r\n            <span class=\"desc\">{{item.desc}}</span>\r\n            <template v-if=\"item.limit\">\r\n              <div class=\"line3\">\r\n                <span class=\"price\"><span>￥</span>{{item.price | currency}}</span>\r\n                <div class=\"add-minus flex\">\r\n                  <div @click=\"item.count > 1 && item.count--\" class=\"btn minus\" :class=\"{active: item.count > 1}\"></div>\r\n                  <input v-model=\"item.count\" type=\"text\" readonly>\r\n                  <div @click=\"item.count < item.limit && item.count++\" class=\"btn plus\" :class=\"{active: item.count < item.limit}\"></div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"line3 flex\">\r\n                <span class=\"note\">所选规格暂时无货</span>\r\n                <button class=\"rechoose btn\" @click=\"skuVisible = true,skuIndex = index\">重选</button>\r\n              </div>\r\n            </template>\r\n          </div>\r\n          <div class=\"mask-delete flex\" v-if=\"item.deleteVisible\" @click=\"item.deleteVisible = false\">\r\n            <div class=\"delete\" @click=\"remove\">删除</div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <v-recommend title=\"为你推荐\" :list=\"res.recommend\"></v-recommend>\r\n    </div>\r\n    <div class=\"footer flex\">\r\n      <div class=\"checkbox\" :class=\"{active: checkedAll}\" @click=\"checkAll\"></div>\r\n      <span class=\"checkbox-label\">全选</span>\r\n      <span class=\"total-label\">合计：</span>\r\n      <div class=\"price\">￥{{totalMoney | currency}}</div>\r\n      <button class=\"btn settlement\" @click=\"settlement\">结算{{totalCount}}</button>\r\n    </div>\r\n    <v-slide-up v-model=\"skuVisible\" @confirm=\"handleSKU\">\r\n      <template v-for=\"(item, index) in res.cart\" v-if=\"skuIndex === index\">\r\n        <ul class=\"sku\">\r\n          <li class=\"sku-icon flex\">\r\n            <img class=\"icon\" src=\"~assets/goods/pic_guguring.png\" alt=\"\">\r\n            <div>\r\n              <div class=\"price\"><span>￥</span>{{8888.00 | currency}}</div>\r\n              <span class=\"code\">商品编号：DRGC00208</span>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div class=\"title\">主钻分数</div>\r\n            <v-button-radio v-model=\"item.sku.scoreIndex\" :list=\"item.skuScore\"></v-button-radio>\r\n          </li>\r\n          <li>\r\n            <div class=\"title\">钻石净度</div>\r\n            <v-button-radio v-model=\"item.sku.clarityIndex\" :list=\"item.skuClarity\"></v-button-radio>\r\n          </li>\r\n          <li>\r\n            <div class=\"title\">颜色</div>\r\n            <v-button-radio v-model=\"item.sku.colorIndex\" :list=\"item.skuColor\"></v-button-radio>\r\n          </li>\r\n          <li>\r\n            <div class=\"title\">规格</div>\r\n            <v-button-radio v-model=\"item.sku.specIndex\" :list=\"item.skuSpec\"></v-button-radio>\r\n          </li>\r\n          <li class=\"count flex\">\r\n            <span>数量</span>\r\n            <div class=\"flex\">\r\n              <div @click=\"item.count > 1 && item.count--\" class=\"btn minus\" :class=\"{active: item.count > 1}\"></div>\r\n              <input v-model=\"item.count\" type=\"text\" readonly>\r\n              <div @click=\"item.count < item.limit && item.count++\" class=\"btn plus\" :class=\"{active: item.count < item.limit}\"></div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n    </v-slide-up>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapActions } from 'vuex';\r\n  import ss from '../assets/goods/pic_guguring.png';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        checkedAll: false,\r\n        totalCount: 0,\r\n        totalMoney: 0,\r\n        skuVisible: false,\r\n        skuIndex: 0,\r\n        res: {\r\n          cart: [{\r\n            checked: false,\r\n            deleteVisible: false,\r\n            src: ss,\r\n            name: '醒狮MeiMei项链/坠',\r\n            desc: '玫瑰金，红玉髓，白珍珠贝母，钻石，黑玛瑙，紫玉',\r\n            price: '6666',\r\n            count: 1,\r\n            limit: 10,\r\n            sku: {\r\n              scoreIndex: 0,\r\n              clarityIndex: 0,\r\n              colorIndex: 0,\r\n              specIndex: 0\r\n            },\r\n            skuScore: ['18分', '25分', '30分', '40分'],\r\n            skuClarity: ['SI/小瑕', 'VS/微瑕', 'VVS/极微瑕'],\r\n            skuColor: ['H/白', 'F-G/优白', 'I-J/淡白', 'D-E/极白'],\r\n            skuSpec: ['女戒-11号', '女戒-12号', '女戒-13号', '女戒-14号', '女戒-15号']\r\n          }, {\r\n            checked: false,\r\n            deleteVisible: false,\r\n            src: ss,\r\n            name: '醒狮MeiMei项链/坠',\r\n            desc: '玫瑰金，红玉髓',\r\n            price: '6666',\r\n            count: 1,\r\n            limit: 10,\r\n            sku: {\r\n              scoreIndex: 0,\r\n              clarityIndex: 0,\r\n              colorIndex: 0,\r\n              specIndex: 0\r\n            },\r\n            skuScore: ['18分', '25分', '30分', '40分'],\r\n            skuClarity: ['SI/小瑕', 'VS/微瑕', 'VVS/极微瑕'],\r\n            skuColor: ['H/白', 'F-G/优白', 'I-J/淡白', 'D-E/极白'],\r\n            skuSpec: ['女戒-11号', '女戒-12号', '女戒-13号', '女戒-14号', '女戒-15号']\r\n          }, {\r\n            checked: false,\r\n            deleteVisible: false,\r\n            src: ss,\r\n            name: '醒狮MeiMei项链/坠',\r\n            desc: '',\r\n            price: '6666',\r\n            count: 1,\r\n            limit: 0,\r\n            sku: {\r\n              scoreIndex: 0,\r\n              clarityIndex: 0,\r\n              colorIndex: 0,\r\n              specIndex: 0\r\n            },\r\n            skuScore: ['18分', '25分', '30分', '40分'],\r\n            skuClarity: ['SI/小瑕', 'VS/微瑕', 'VVS/极微瑕'],\r\n            skuColor: ['H/白', 'F-G/优白', 'I-J/淡白', 'D-E/极白'],\r\n            skuSpec: ['女戒-11号', '女戒-12号', '女戒-13号', '女戒-14号', '女戒-15号']\r\n          }],\r\n          recommend: [{\r\n            url: ss,\r\n            name: '文承 戒指',\r\n            price: '6666',\r\n            like: false\r\n          }, {\r\n            url: ss,\r\n            name: '文承 戒指',\r\n            price: '6666',\r\n            like: false\r\n          }, {\r\n            url: ss,\r\n            name: '文承 戒指',\r\n            price: '6666',\r\n            like: false\r\n          }, {\r\n            url: ss,\r\n            name: '文承 戒指',\r\n            price: '6666',\r\n            like: false\r\n          }]\r\n        }\r\n      };\r\n    },\r\n    created() {\r\n      this.fetchCart();\r\n    },\r\n    watch: {\r\n      'res.cart': {\r\n        handler(val) {\r\n          this.checkedAll = !this.res.cart.filter(item => item.limit && !item.checked).length;\r\n          this.totalCount = this.res.cart.filter(item => item.limit && item.checked).reduce((total, { count }) => total + count, 0);\r\n          this.totalMoney = this.res.cart.filter(item => item.limit && item.checked).reduce((total, { price, count }) => total + price * count, 0);\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['ajax']),\r\n      fetchCart() {\r\n        this.ajax({\r\n          name: 'cart'\r\n        }).then(res => {\r\n          this.res.cart = res.cart;\r\n          this.res.cart.forEach(item => {\r\n            item.checked = false;\r\n            item.deleteVisible = false;\r\n          });\r\n        });\r\n      },\r\n      checkAll() {\r\n        let isCheckedAll = this.checkedAll;\r\n        this.res.cart.filter(item => item.limit).forEach(item => {\r\n          item.checked = !isCheckedAll;\r\n        });\r\n      },\r\n      handlePress(eventName, e, hammer) {\r\n        if(eventName === 'press') {\r\n          this.res.cart[hammer.index].deleteVisible = true;\r\n        }\r\n      },\r\n      remove(index) {\r\n        this.res.cart.splice(index, 1);\r\n      },\r\n      handleSKU() {\r\n        // let score = this.res.skuScore[this.sku.scoreIndex];\r\n        // let clarity = this.res.skuClarity[this.sku.clarityIndex];\r\n        // let color = this.res.skuColor[this.sku.colorIndex];\r\n        // let spec = this.res.skuSpec[this.sku.specIndex];\r\n        // this.reqData.sku = `已选 ${score}；${clarity}；${color}；${spec}`;\r\n      },\r\n      settlement() {\r\n        this.$router.push({ name: 'confirmorder' });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .cart-list {\r\n    position: relative;\r\n    margin: 20px;\r\n    li {\r\n      background-color: #fff;\r\n      margin-bottom: 16px;\r\n      border-radius: 10px;\r\n      padding: 30px 40px 30px 20px;\r\n      align-items: stretch;\r\n      position: relative;\r\n      .checkbox {\r\n        width: 36px;\r\n        height: 36px;\r\n        background: url('~assets/payment/button_select_off.png') no-repeat;\r\n        background-size: 100% 100%;\r\n        flex-shrink: 0;\r\n        align-self: center;\r\n        &.active {\r\n          background: url('~assets/payment/button_select_on.png') no-repeat;\r\n          background-size: 100% 100%;\r\n        }\r\n        &.disabled {\r\n          background: url('~assets/payment/button_select_una.png') no-repeat;\r\n          background-size: 100% 100%;\r\n          background-color: #fff !important;\r\n        }\r\n      }\r\n      .img {\r\n        width: 200px;\r\n        height: 200px;\r\n        margin-left: 20px;\r\n        margin-right: 30px;\r\n        flex-shrink: 0;\r\n        background-color: #f5f5f5;\r\n        img {\r\n          height: 100%;\r\n        }\r\n      }\r\n      .detail {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        position: relative;\r\n        .name {\r\n          font-size: 30px;\r\n          color: #666;\r\n          padding-top: 10px;\r\n        }\r\n        .desc {\r\n          font-size: 20px;\r\n          color: #999;\r\n          padding-top: 24px;\r\n        }\r\n        .line3 {\r\n          position: absolute;\r\n          width: 100%;\r\n          bottom: 0;\r\n          left: 0;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          .price {\r\n            font-size: 30px;\r\n            color: #cdb49b;\r\n            span {\r\n              font-size: 20px;\r\n            }\r\n          }\r\n          .note {\r\n            font-size: 20px;\r\n            color: #666;\r\n          }\r\n          .rechoose {\r\n            height: 40px;\r\n            width: 90px;\r\n            border-radius: 20px;\r\n            background-color: #fff;\r\n            font-size: 20px;\r\n            color: #faa0a0;\r\n            border: 1px solid #faa0a0; /*no*/\r\n          }\r\n          .add-minus {\r\n            color: #666;\r\n            font-size: 24px;\r\n            justify-content: space-between;\r\n            position: absolute;\r\n            right: 0;\r\n            bottom: 0;\r\n            .btn {\r\n              width: 32px;\r\n              height: 32px;\r\n              &.plus {\r\n                background: url('~assets/goods/button_plus_l.png') no-repeat;\r\n                background-size: 100%;\r\n                &.active {\r\n                  background: url('~assets/goods/button_plus_d.png') no-repeat;\r\n                  background-size: 100%;\r\n                }\r\n              }\r\n              &.minus {\r\n                background: url('~assets/goods/button_minus_l.png') no-repeat;\r\n                background-size: 100%;\r\n                &.active {\r\n                  background: url('~assets/goods/button_minus_d.png') no-repeat;\r\n                  background-size: 100%;\r\n                }\r\n              }\r\n            }\r\n            input {\r\n              width: 0;\r\n              min-width: 60px;\r\n              color: #666;\r\n              background-color: #f0f0f0;\r\n              text-align: center;\r\n              padding: 0 10px;\r\n              margin: 0 8px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .mask-delete {\r\n        position: absolute;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        height: 100%;\r\n        justify-content: center;\r\n        margin: 0 -20px;\r\n        .delete {\r\n          width: 120px;\r\n          height: 120px;\r\n          color: #fff;\r\n          background-color: #faa0a0;\r\n          text-align: center;\r\n          line-height: 120px;\r\n          font-size: 24px;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .footer {\r\n    padding: 0 20px 0 30px;\r\n    height: 96px;\r\n    box-shadow: 0 -10px 50px 10px rgba(170, 170, 170, 0.5);\r\n    background-color: #fff;\r\n    .checkbox {\r\n      width: 36px;\r\n      height: 36px;\r\n      margin-right: 20px;\r\n      background: url('~assets/payment/button_select_off.png') no-repeat;\r\n      background-size: 100% 100%;\r\n      flex-shrink: 0;\r\n      align-self: center;\r\n      &.active {\r\n        background: url('~assets/payment/button_select_on.png') no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n      &.disabled {\r\n        background: url('~assets/payment/button_select_una.png') no-repeat;\r\n        background-size: 100% 100%;\r\n        background-color: #fff !important;\r\n      }\r\n    }\r\n    .checkbox-label {\r\n      font-size: 24px;\r\n      color: #999;\r\n      padding-right: 40px;\r\n    }\r\n    .total-label {\r\n      font-size: 30px;\r\n      color: #333;\r\n    }\r\n    .price {\r\n      font-size: 30px;\r\n      font-weight: bold;\r\n      color: #cdb49b;\r\n    }\r\n    .settlement {\r\n      margin-left: auto;\r\n      width: 220px;\r\n      height: 68px;\r\n      color: #fff;\r\n      background-color: #ffb4b4;\r\n      border-radius: 34px;\r\n    }\r\n  }\r\n\r\n  .sku {\r\n    li {\r\n      padding: 20px;\r\n      border-bottom: 1px solid #f0f0f0; /*no*/\r\n      &.sku-icon {\r\n        align-items: flex-end;\r\n        border: none;\r\n        .icon {\r\n          width: 200px;\r\n          height: 200px;\r\n          margin-right: 30px;\r\n        }\r\n        .price {\r\n          color: #cdb49b;\r\n          font-size: 42px;\r\n        }\r\n        .code {\r\n          color: #999;\r\n          font-size: 20px;\r\n        }\r\n      }\r\n      &.count {\r\n        color: #666;\r\n        font-size: 24px;\r\n        justify-content: space-between;\r\n        .btn {\r\n          width: 40px;\r\n          height: 40px;\r\n          &.plus {\r\n            background: url('~assets/goods/button_plus_l.png') no-repeat;\r\n            background-size: 100%;\r\n            &.active {\r\n              background: url('~assets/goods/button_plus_d.png') no-repeat;\r\n              background-size: 100%;\r\n            }\r\n          }\r\n          &.minus {\r\n            background: url('~assets/goods/button_minus_l.png') no-repeat;\r\n            background-size: 100%;\r\n            &.active {\r\n              background: url('~assets/goods/button_minus_d.png') no-repeat;\r\n              background-size: 100%;\r\n            }\r\n          }\r\n        }\r\n        input {\r\n          width: 0;\r\n          min-width: 120px;\r\n          color: #666;\r\n          text-align: center;\r\n          padding: 0 10px;\r\n        }\r\n      }\r\n      .title {\r\n        color: #666;\r\n        font-size: 24px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt pb\"},[_c('v-header',[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('ul',{staticClass:\"cart-list\"},_vm._l((_vm.res.cart),function(item,index){return _c('li',{directives:[{name:\"touch\",rawName:\"v-touch.press\",value:(_vm.handlePress),expression:\"handlePress\",modifiers:{\"press\":true}}],staticClass:\"flex\",attrs:{\"data-index\":index}},[_c('div',{staticClass:\"checkbox\",class:{active: item.checked, disabled: !item.limit},on:{\"click\":function($event){item.limit && (item.checked = !item.checked)}}}),_vm._v(\" \"),_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":item.src,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"detail flex-auto flex\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(item.desc))]),_vm._v(\" \"),(item.limit)?[_c('div',{staticClass:\"line3\"},[_c('span',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))]),_vm._v(\" \"),_c('div',{staticClass:\"add-minus flex\"},[_c('div',{staticClass:\"btn minus\",class:{active: item.count > 1},on:{\"click\":function($event){item.count > 1 && item.count--}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.count),expression:\"item.count\"}],attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(item.count)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"count\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn plus\",class:{active: item.count < item.limit},on:{\"click\":function($event){item.count < item.limit && item.count++}}})])])]:[_c('div',{staticClass:\"line3 flex\"},[_c('span',{staticClass:\"note\"},[_vm._v(\"所选规格暂时无货\")]),_vm._v(\" \"),_c('button',{staticClass:\"rechoose btn\",on:{\"click\":function($event){_vm.skuVisible = true,_vm.skuIndex = index}}},[_vm._v(\"重选\")])])]],2),_vm._v(\" \"),(item.deleteVisible)?_c('div',{staticClass:\"mask-delete flex\",on:{\"click\":function($event){item.deleteVisible = false}}},[_c('div',{staticClass:\"delete\",on:{\"click\":_vm.remove}},[_vm._v(\"删除\")])]):_vm._e()])})),_vm._v(\" \"),_c('v-recommend',{attrs:{\"title\":\"为你推荐\",\"list\":_vm.res.recommend}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer flex\"},[_c('div',{staticClass:\"checkbox\",class:{active: _vm.checkedAll},on:{\"click\":_vm.checkAll}}),_vm._v(\" \"),_c('span',{staticClass:\"checkbox-label\"},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('span',{staticClass:\"total-label\"},[_vm._v(\"合计：\")]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"currency\")(_vm.totalMoney)))]),_vm._v(\" \"),_c('button',{staticClass:\"btn settlement\",on:{\"click\":_vm.settlement}},[_vm._v(\"结算\"+_vm._s(_vm.totalCount))])]),_vm._v(\" \"),_c('v-slide-up',{on:{\"confirm\":_vm.handleSKU},model:{value:(_vm.skuVisible),callback:function ($$v) {_vm.skuVisible=$$v},expression:\"skuVisible\"}},[_vm._l((_vm.res.cart),function(item,index){return (_vm.skuIndex === index)?[_c('ul',{staticClass:\"sku\"},[_c('li',{staticClass:\"sku-icon flex\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"assets/goods/pic_guguring.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm._f(\"currency\")(8888.00)))]),_vm._v(\" \"),_c('span',{staticClass:\"code\"},[_vm._v(\"商品编号：DRGC00208\")])])]),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"title\"},[_vm._v(\"主钻分数\")]),_vm._v(\" \"),_c('v-button-radio',{attrs:{\"list\":item.skuScore},model:{value:(item.sku.scoreIndex),callback:function ($$v) {_vm.$set(item.sku, \"scoreIndex\", $$v)},expression:\"item.sku.scoreIndex\"}})],1),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"title\"},[_vm._v(\"钻石净度\")]),_vm._v(\" \"),_c('v-button-radio',{attrs:{\"list\":item.skuClarity},model:{value:(item.sku.clarityIndex),callback:function ($$v) {_vm.$set(item.sku, \"clarityIndex\", $$v)},expression:\"item.sku.clarityIndex\"}})],1),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"title\"},[_vm._v(\"颜色\")]),_vm._v(\" \"),_c('v-button-radio',{attrs:{\"list\":item.skuColor},model:{value:(item.sku.colorIndex),callback:function ($$v) {_vm.$set(item.sku, \"colorIndex\", $$v)},expression:\"item.sku.colorIndex\"}})],1),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"title\"},[_vm._v(\"规格\")]),_vm._v(\" \"),_c('v-button-radio',{attrs:{\"list\":item.skuSpec},model:{value:(item.sku.specIndex),callback:function ($$v) {_vm.$set(item.sku, \"specIndex\", $$v)},expression:\"item.sku.specIndex\"}})],1),_vm._v(\" \"),_c('li',{staticClass:\"count flex\"},[_c('span',[_vm._v(\"数量\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"btn minus\",class:{active: item.count > 1},on:{\"click\":function($event){item.count > 1 && item.count--}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.count),expression:\"item.count\"}],attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(item.count)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"count\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn plus\",class:{active: item.count < item.limit},on:{\"click\":function($event){item.count < item.limit && item.count++}}})])])])]:_vm._e()})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc667ae0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fc667ae0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc667ae0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fc667ae0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/cart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}